webpackJsonp([2],{"3C/1":function(t,e,r){r("M6a0"),r("zQR9"),r("+tPU"),r("qCoq"),r("UvrK"),r("Xjd4"),r("bqnK"),t.exports=r("FeBl").Map},"4WTo":function(t,e,r){var a=r("NWt+");t.exports=function(t,e){var r=[];return a(t,!1,r.push,r,e),r}},"5zde":function(t,e,r){r("zQR9"),r("qyJz"),t.exports=r("FeBl").Array.from},"7Doy":function(t,e,r){var a=r("EqjI"),i=r("7UMu"),s=r("dSzd")("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),a(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},"9Bbf":function(t,e,r){"use strict";var a=r("kM2E");t.exports=function(t){a(a.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},"9C8M":function(t,e,r){"use strict";var a=r("evD5").f,i=r("Yobk"),s=r("xH/j"),o=r("+ZMJ"),n=r("2KxR"),l=r("NWt+"),c=r("vIB/"),u=r("EGZi"),p=r("bRrM"),f=r("+E39"),d=r("06OY").fastKey,v=r("LIJb"),h=f?"_s":"size",_=function(t,e){var r,a=d(e);if("F"!==a)return t._i[a];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,c){var u=t(function(t,a){n(t,u,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[h]=0,void 0!=a&&l(a,r,t[c],t)});return s(u.prototype,{clear:function(){for(var t=v(this,e),r=t._i,a=t._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete r[a.i];t._f=t._l=void 0,t[h]=0},delete:function(t){var r=v(this,e),a=_(r,t);if(a){var i=a.n,s=a.p;delete r._i[a.i],a.r=!0,s&&(s.n=i),i&&(i.p=s),r._f==a&&(r._f=i),r._l==a&&(r._l=s),r[h]--}return!!a},forEach:function(t){v(this,e);for(var r,a=o(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(a(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!_(v(this,e),t)}}),f&&a(u.prototype,"size",{get:function(){return v(this,e)[h]}}),u},def:function(t,e,r){var a,i,s=_(t,e);return s?s.v=r:(t._l=s={i:i=d(e,!0),k:e,v:r,p:a=t._l,n:void 0,r:!1},t._f||(t._f=s),a&&(a.n=s),t[h]++,"F"!==i&&(t._i[i]=s)),t},getEntry:_,setStrong:function(t,e,r){c(t,e,function(t,r){this._t=v(t,e),this._k=r,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))},r?"entries":"values",!r,!0),p(e)}}},ALrJ:function(t,e,r){var a=r("+ZMJ"),i=r("MU5D"),s=r("sB3e"),o=r("QRG4"),n=r("oeOm");t.exports=function(t,e){var r=1==t,l=2==t,c=3==t,u=4==t,p=6==t,f=5==t||p,d=e||n;return function(e,n,v){for(var h,_,m=s(e),g=i(m),y=a(n,v,3),b=o(g.length),x=0,I=r?d(e,b):l?d(e,0):void 0;b>x;x++)if((f||x in g)&&(_=y(h=g[x],x,m),t))if(r)I[x]=_;else if(_)switch(t){case 3:return!0;case 5:return h;case 6:return x;case 2:I.push(h)}else if(u)return!1;return p?-1:c||u?u:I}}},Gu7T:function(t,e,r){"use strict";e.__esModule=!0;var a,i=r("c/Tr"),s=(a=i)&&a.__esModule?a:{default:a};e.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,s.default)(t)}},HpRW:function(t,e,r){"use strict";var a=r("kM2E"),i=r("lOnJ"),s=r("+ZMJ"),o=r("NWt+");t.exports=function(t){a(a.S,t,{from:function(t){var e,r,a,n,l=arguments[1];return i(this),(e=void 0!==l)&&i(l),void 0==t?new this:(r=[],e?(a=0,n=s(l,arguments[2],2),o(t,!1,function(t){r.push(n(t,a++))})):o(t,!1,r.push,r),new this(r))}})}},LIJb:function(t,e,r){var a=r("EqjI");t.exports=function(t,e){if(!a(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},UvrK:function(t,e,r){var a=r("kM2E");a(a.P+a.R,"Map",{toJSON:r("m9gC")("Map")})},Xjd4:function(t,e,r){r("9Bbf")("Map")},a8Hf:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("ifoU"),i=r.n(a),s=r("Gu7T"),o=r.n(s),n=r("goGF"),l={data:function(){return{modelId:this.$route.query.modelId,areaType:this.$route.query.areaType,programId:this.$route.query.programId,type:this.$route.query.type,active:1,isPopover:!0,isLoop:1,playStartEnd:this.$route.query.startTimes,eidtLayerList:[{id:"1",name:"置于顶层"},{id:"2",name:"向上一层"},{id:"3",name:"向下一层"},{id:"4",name:"置于底层"},{id:"5",name:"删除"}],addSel:"",searchVal:"",i_hour:"",i_minute:"",i_second:"",readonly:!1,listData:[],pageNo:1,pageSize:100}},mounted:function(){this.getTemplateList()},methods:{swapItems:function(t,e,r){var a="refNamePopover"+r;return this.$refs[a][0].doClose(),1==t?(this.listData.unshift(this.listData[e]),this.listData.splice(e+1,1),this.listData):4==t?(this.listData.push(this.listData[e]),this.listData.splice(e,1),this.listData):5==t?(this.itemRemove(e),!1):(2==t&&(this.listData[e]=this.listData.splice(e-1,1,this.listData[e])[0]),3==t&&(this.listData[e]=this.listData.splice(e+1,1,this.listData[e])[0]),this.$message.success("操作成功"),this.listData)},itemRemove:function(t){var e=this;this.$confirm("确认删除？").then(function(r){e.listData.splice(t,1)}).catch(function(t){})},gotoSel:function(){var t=this,e=[];this.listData.forEach(function(r){console.log("item",r),1!=t.type?e.push({materialId:r.materialId,totalTime:r.second}):e.push({materialId:r.materialId,totalTime:r.materialTotalTime})});var r={program:{modelId:Number(this.modelId),programBroadcast:"",programBroastStartTime:"",programBroastStatus:"",programBroastUrl:"",programCreateTime:"",programGroupId:Number(this.$store.state.groupId),programId:Number(this.programId),programStartTime:this.playStartEnd,programType:this.isLoop,programUpdateTime:""},programMaterialList:e,programPartition:this.areaType};Object(n.e)(r).then(function(e){200==e.data.code&&t.$router.push({name:"programManage"})})},goBack:function(){localStorage.removeItem("addSelList"),this.$router.go(-1)},handleAddSel:function(t){this.$router.push({name:"addProgram",query:{type:t}})},getTemplateList:function(){var t=this,e={groupId:this.$store.state.groupId,pageNum:this.pageNo,pageSize:this.pageSize,modelId:this.modelId,partionId:this.areaType,title:this.searchVal};Object(n.c)(e).then(function(e){if(200==e.data.code&&0!=e.data.data.length){var r=e.data.data.programList,a=JSON.parse(localStorage.getItem("addSelList"));t.listData=t.unique([].concat(o()(r),o()(a)))}})},unique:function(t){var e=new i.a;return t.filter(function(t){return!e.has(t.materialId)&&e.set(t.materialId,1)})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"manage_box"},[a("div",{staticClass:"block_title"},[a("el-row",{staticClass:"title_box",attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"title"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/programManage"}}},[t._v("节目管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("编辑节目单")])],1)],1)]),t._v(" "),a("el-col",{attrs:{span:12,offset:6}},[a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:"请输入名称搜索","prefix-icon":"el-icon-search",clearable:""},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:6,offset:8}},[a("div",{staticClass:"step"},[a("el-steps",{attrs:{active:t.active,"finish-status":"success"}},[a("el-step"),t._v(" "),a("el-step")],1)],1)])],1),t._v(" "),a("el-row",[a("el-col",[a("div",{staticClass:"top_label"},[a("span",{staticClass:"label"},[t._v("播放形式")]),t._v(" "),a("el-radio-group",{model:{value:t.isLoop,callback:function(e){t.isLoop=e},expression:"isLoop"}},[a("el-radio",{attrs:{label:1}},[t._v("循环播放")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("不重复播放")])],1)],1)]),t._v(" "),a("el-col",[a("div",{staticClass:"top_label"},[a("span",{staticClass:"label"},[t._v("已选择文件")])])])],1),t._v(" "),a("div",{staticClass:"row_box"},t._l(t.listData,function(e,i){return a("dl",{key:i,staticClass:"dl flip-list-move"},[a("dt",[a("div",{staticClass:"img"},[2==t.type?a("img",{attrs:{src:e.materialUrl,alt:""}}):t._e(),t._v(" "),1==t.type?a("img",{attrs:{src:r("Uc3U"),alt:""}}):t._e(),t._v(" "),3==t.type?a("img",{attrs:{src:r("NGR+"),alt:""}}):t._e()]),t._v(" "),a("div",{staticClass:"text"},[a("p",{staticClass:"play_title"},[1!=t.type?a("span",[t._v("设置播放时长：")]):t._e(),t._v(" "),a("el-popover",{ref:"refNamePopover"+e.materialId,refInFor:!0,attrs:{placement:"left",trigger:"click"}},[a("ul",{staticClass:"layer_box"},t._l(t.eidtLayerList,function(r,s){return a("li",{key:s,on:{click:function(a){return t.swapItems(r.id,i,e.materialId)}}},[a("span",{class:{box_hidden:0==i&&0==s||0==i&&1==s,box_hidden1:i==t.listData.length-1&&2==s||i==t.listData.length-1&&3==s}},[t._v(t._s(r.name))])])}),0),t._v(" "),a("span",{staticClass:"setting el-icon-setting",attrs:{slot:"reference"},slot:"reference"})])],1),t._v(" "),1!=t.type?a("div",{staticClass:"play_times"},[a("el-input",{attrs:{readonly:t.readonly,placeholder:"秒"},model:{value:e.second,callback:function(r){t.$set(e,"second",r)},expression:"item.second"}})],1):t._e()])]),t._v(" "),a("dd",{staticClass:"total_times"},[a("span",{staticClass:"a_title"},[t._v(t._s(e.materialTitle))]),t._v(" "),1==t.type?a("span",[t._v("总设时长："+t._s(e.materialTotalTime))]):t._e()]),t._v(" "),a("dd",{staticClass:"dd"},[t._v("\n            "+t._s(e.materialBrief)+"\n            ")])])}),0)],1),t._v(" "),a("div",{staticClass:"bottom_btn"},[a("el-button",{on:{click:t.goBack}},[t._v("上一步")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.gotoSel}},[t._v("完成")])],1)])])},staticRenderFns:[]};var u=r("VU/8")(l,c,!1,function(t){r("cYzW")},"data-v-b150e3f2",null);e.default=u.exports},bqnK:function(t,e,r){r("HpRW")("Map")},"c/Tr":function(t,e,r){t.exports={default:r("5zde"),__esModule:!0}},cYzW:function(t,e){},fBQ2:function(t,e,r){"use strict";var a=r("evD5"),i=r("X8DO");t.exports=function(t,e,r){e in t?a.f(t,e,i(0,r)):t[e]=r}},ifoU:function(t,e,r){t.exports={default:r("3C/1"),__esModule:!0}},m9gC:function(t,e,r){var a=r("RY/4"),i=r("4WTo");t.exports=function(t){return function(){if(a(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},oeOm:function(t,e,r){var a=r("7Doy");t.exports=function(t,e){return new(a(t))(e)}},qCoq:function(t,e,r){"use strict";var a=r("9C8M"),i=r("LIJb");t.exports=r("qo66")("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=a.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return a.def(i(this,"Map"),0===t?0:t,e)}},a,!0)},qo66:function(t,e,r){"use strict";var a=r("7KvD"),i=r("kM2E"),s=r("06OY"),o=r("S82l"),n=r("hJx8"),l=r("xH/j"),c=r("NWt+"),u=r("2KxR"),p=r("EqjI"),f=r("e6n0"),d=r("evD5").f,v=r("ALrJ")(0),h=r("+E39");t.exports=function(t,e,r,_,m,g){var y=a[t],b=y,x=m?"set":"add",I=b&&b.prototype,C={};return h&&"function"==typeof b&&(g||I.forEach&&!o(function(){(new b).entries().next()}))?(b=e(function(e,r){u(e,b,t,"_c"),e._c=new y,void 0!=r&&c(r,m,e[x],e)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in I&&(!g||"clear"!=t)&&n(b.prototype,t,function(r,a){if(u(this,b,t),!e&&g&&!p(r))return"get"==t&&void 0;var i=this._c[t](0===r?0:r,a);return e?this:i})}),g||d(b.prototype,"size",{get:function(){return this._c.size}})):(b=_.getConstructor(e,t,m,x),l(b.prototype,r),s.NEED=!0),f(b,t),C[t]=b,i(i.G+i.W+i.F,C),g||_.setStrong(b,t,m),b}},qyJz:function(t,e,r){"use strict";var a=r("+ZMJ"),i=r("kM2E"),s=r("sB3e"),o=r("msXi"),n=r("Mhyx"),l=r("QRG4"),c=r("fBQ2"),u=r("3fs2");i(i.S+i.F*!r("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,i,p,f=s(t),d="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,_=void 0!==h,m=0,g=u(f);if(_&&(h=a(h,v>2?arguments[2]:void 0,2)),void 0==g||d==Array&&n(g))for(r=new d(e=l(f.length));e>m;m++)c(r,m,_?h(f[m],m):f[m]);else for(p=g.call(f),r=new d;!(i=p.next()).done;m++)c(r,m,_?o(p,h,[i.value,m],!0):i.value);return r.length=m,r}})}});
//# sourceMappingURL=2.67c33bce3f8fbd70561d.js.map