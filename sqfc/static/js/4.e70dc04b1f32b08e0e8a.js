webpackJsonp([4],{"4BjG":function(e,t){},"77KB":function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return n}),a.d(t,"b",function(){return l});var i=a("Y8t/"),r=function(e){return Object(i.a)({url:"/sqfc/material/queryText",method:"get",params:e})},o=function(e){return Object(i.a)({url:"/sqfc/material/updateText",method:"get",params:e})},n=function(e){return Object(i.a)({url:"/sqfc/material/addText",method:"get",params:e})},l=function(e){return Object(i.a)({url:"/sqfc/material/deleteText",method:"get",params:{textId:e}})}},N7h0:function(e,t){},UJbz:function(e,t){},cQy8:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"d",function(){return n}),a.d(t,"e",function(){return l}),a.d(t,"f",function(){return s}),a.d(t,"a",function(){return c}),a.d(t,"b",function(){return d});var i=a("Dd8w"),r=(a.n(i),a("Y8t/")),o=function(){return Object(r.a)({url:"/sqfc/material/queryNumber",method:"get",params:{}})},n=function(e){return Object(r.a)({url:"/sqfc/material/queryVideo",method:"get",params:e})},l=function(e){return Object(r.a)({url:"/sqfc/material/updateVideo",method:"post",data:e})},s=function(e){return Object(r.a)({url:"/sqfc/material/uploadVideo",method:"post",data:e})},c=function(e){return Object(r.a)({url:"/sqfc/material/findMaterialById",method:"get",params:{id:e}})},d=function(e){return Object(r.a)({url:"/sqfc/material/deleteVideo",method:"get",params:{videoId:e}})}},iCpY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("cQy8"),r=a("//Fk"),o=a.n(r),n={data:function(){return{screenHeight:""+document.documentElement.clientHeight-242,otype:"",//! 新增or上传   otype:add/edit
form:{},rules:{materialTitle:[{required:!0,message:"请输入视频标题",trigger:"blur"}],materialBrief:[{required:!0,message:"请输入视频简介",trigger:"change"}],img:[{required:!0,message:"请选择封面",trigger:"change"}]},videoUrl:"",videoUploadPercent:0,videoEditMaster:!1,searchVal:"",duration:"",fileList:[],tableData:[],currentPage:1,pageSize:10,totalNo:0,loading:!0}},mounted:function(){var e=this;window.onresize=function(){e.screenHeight=""+document.documentElement.clientHeight-242},e.getList(e.currentPage,e.pageSize)},methods:{visibleBefore:function(){this.videoUrl="",this.fileList=[],this.duration="",this.videoEditMaster=!1},videoSearch:function(){this.getList(1,this.pageSize)},getPrev:function(e){this.getList(e,this.pageSize)},getNext:function(e){this.getList(e,this.pageSize)},getCurrent:function(e){this.currentPage=e,this.getList(e,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.getList(e,this.pageSize)},getList:function(e,t){var a=this;this.currentPage=e;var r={pageNum:e,pageSize:t,title:this.searchVal};Object(i.d)(r).then(function(e){200==e.data.code?(a.tableData=e.data.data.list,a.totalNo=e.data.data.total,a.$emit("getTopTotal"),a.loading=!1):a.$message.error(e.msg)}).catch(function(e){console.log(e)})},editRow:function(e,t){console.log(t),e||t?(this.otype="edit",this.beforeEdit(t.materialId)):(this.otype="add",this.form={}),this.videoEditMaster=!0},beforeEdit:function(e){var t=this;Object(i.a)(e).then(function(e){200==e.data.code&&(t.form=e.data.data,console.log("form",t.form))})},beforeVideoUpload:function(e,t){var a=this;return console.log("fileList",e),this.videoUploadPercent=0,-1==["video/mp4","video/ogg","video/flv","video/avi","video/wmv","video/rmvb"].indexOf(e.raw.type)?(this.$message.error("请上传正确的视频格式"),t.splice(-1,1),!1):(this.videoUrl=e.url,this.fileList=e,this.getVideoMsg(e.raw).then(function(e){var t=e.duration;e.height,e.width;a.duration=Math.round(100*t)/100,console.log("视频时长：",a.duration)}),!0)},handleVideoSuccess:function(e,t){console.log(e),console.log("status",t.status)},uploadVideoProcess:function(e,t,a){console.log("进度条",t.percentage),console.log(1*t.percentage.toFixed(0)),console.log(a)},getVideoMsg:function(e){return new o.a(function(t){var a=document.createElement("video");a.src=URL.createObjectURL(e),a.addEventListener("loadedmetadata",function(){t({duration:a.duration,height:a.videoHeight,width:a.videoWidth})})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;if("add"==t.otype){if(0==t.fileList.length)return t.$message.error("请上传视频"),!1;var a=new FormData;a.append("file",t.fileList.raw),a.append("materialBrief",t.form.materialBrief),a.append("materialTitle",t.form.materialTitle),a.append("materialTotalTime",t.duration),Object(i.f)(a).then(function(e){200==e.data.code&&(t.$message({type:"success",message:"上传成功!"}),t.getList(t.currentPage,t.pageSize),t.videoEditMaster=!1,t.fileList=[],t.videoUrl="")},function(e){t.$message({type:"error",message:"操作失败!"})})}else{var r=new FormData;r.append("videoId",t.form.materialId),r.append("file",""),r.append("materialBrief",t.form.materialBrief),r.append("materialTitle",t.form.materialTitle),r.append("materialTotalTime",t.form.materialTotalTime),Object(i.e)(r).then(function(e){200==e.data.code&&(t.$message({type:"success",message:"上传成功!"}),t.getList(t.currentPage,t.pageSize),t.videoEditMaster=!1,t.fileList=[],t.videoUrl="")},function(e){t.$message({type:"error",message:"操作失败!"})})}})},videoRemove:function(){this.videoUrl="",this.fileList=[]},deleteRow:function(e,t){var a=this;this.$confirm("确认删除？").then(function(e){Object(i.b)(t.materialId).then(function(e){200==e.data.code&&(a.$message({type:"success",message:"操作成功!"}),a.getList(a.currentPage,a.pageSize))})}).catch(function(e){})}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"video_content"},[i("div",{staticClass:"upload_video"},[i("el-row",[i("el-col",{attrs:{span:4}},[i("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-upload2"},nativeOn:{click:function(t){return e.editRow()}}},[e._v("上传视频")])],1),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索名称",clearable:""},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.videoSearch},slot:"append"})],1)],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.screenHeight,"element-loading-text":"正在努力加载中..."}},[i("el-table-column",{attrs:{fixed:"",prop:"img",label:"图片",width:"230"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{staticClass:"head_pic",attrs:{src:a("Uc3U")}})]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"materialBrief",label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("dl",[i("dt",{staticClass:"title"},[e._v(e._s(t.row.materialTitle))]),e._v(" "),i("dd",[e._v(e._s(t.row.materialBrief))])])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"materialCreateTime",label:"时间",width:"180"}}),e._v(" "),i("el-table-column",{attrs:{prop:"materialTotalTime",label:"总时长",width:"120"}}),e._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return e.editRow(t.$index,t.row)}}},[e._v("\n          编辑\n        ")]),e._v(" "),i("el-button",{staticStyle:{color:"#f00"},attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,t.row)}}},[e._v("\n          删除\n        ")])]}}])})],1),e._v(" "),i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper","page-size":e.pageSize,total:e.totalNo},on:{"prev-click":e.getPrev,"next-click":e.getNext,"current-change":e.handleCurrentChange}}),e._v(" "),i("el-drawer",{attrs:{title:"视频",visible:e.videoEditMaster,"before-close":e.visibleBefore,wrapperClosable:!1,direction:"rtl",size:"50%"},on:{"update:visible":function(t){e.videoEditMaster=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"视频标题",prop:"materialTitle"}},[i("el-input",{model:{value:e.form.materialTitle,callback:function(t){e.$set(e.form,"materialTitle",t)},expression:"form.materialTitle"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"视频介绍",prop:"materialBrief"}},[i("el-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:e.form.materialBrief,callback:function(t){e.$set(e.form,"materialBrief",t)},expression:"form.materialBrief"}})],1),e._v(" "),"add"==e.otype?i("el-form-item",{attrs:{label:"选择视频文件"}},[e.videoUrl?e._e():i("el-upload",{staticClass:"video-uploader",attrs:{action:"http://118.31.122.133:9099/sqfc/material/uploadVideo",limit:1,"on-change":e.beforeVideoUpload,"on-success":e.handleVideoSuccess,"on-progress":e.uploadVideoProcess,"list-type":"picture-card",accept:".mp4"},model:{value:e.form.video,callback:function(t){e.$set(e.form,"video",t)},expression:"form.video"}},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),i("div",{staticClass:"up_video_box"},[e.videoUrl?i("div",{staticClass:"remove",on:{click:e.videoRemove}},[i("span",{staticClass:"el-icon-delete"})]):e._e(),e._v(" "),e.videoUrl?i("video",{staticClass:"videoClass",attrs:{src:e.videoUrl,controls:"controls"}},[e._v("\n            您的浏览器不支持视频播放\n          ")]):e._e()])],1):e._e(),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(n,l,!1,function(e){a("UJbz")},"data-v-c3d39590",null).exports,c=a("mAMQ"),d={data:function(){return{screenHeight:""+document.documentElement.clientHeight-242,otype:"",//! 新增or上传   otype:add/edit
form:{},rules:{materialTitle:[{required:!0,message:"请输入图片标题",trigger:"blur"}],materialBrief:[{required:!0,message:"请输入图片简介",trigger:"change"}],img:[{required:!0,message:"请选择上传图片",trigger:"change"}]},videoUrl:"",videoUploadPercent:0,videoEditMaster:!1,searchVal:"",fileList:[],tableData:[],currentPage:1,pageSize:10,totalNo:0,loading:!0}},mounted:function(){var e=this;window.onresize=function(){e.screenHeight=""+document.documentElement.clientHeight-242},e.getList(e.currentPage,e.pageSize)},methods:{visibleBefore:function(){this.fileList=[],this.videoEditMaster=!1},videoSearch:function(){this.getList(1,this.pageSize)},getPrev:function(e){this.getList(e,this.pageSize)},getNext:function(e){this.getList(e,this.pageSize)},getCurrent:function(e){this.currentPage=e,this.getList(e,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.getList(e,this.pageSize)},getList:function(e,t){var a=this;this.currentPage=e;var i={pageNum:e,pageSize:t,title:this.searchVal};Object(c.a)(i).then(function(e){200==e.data.code?(a.tableData=e.data.data.list,a.totalNo=e.data.data.total,a.$emit("getTopTotal"),a.loading=!1):a.$message.error(e.msg)}).catch(function(e){console.log(e)})},editRow:function(e,t){e||t?(this.otype="edit",this.beforeEdit(t.materialId)):(this.otype="add",this.form={}),this.videoEditMaster=!0},beforeEdit:function(e){var t=this;Object(i.a)(e).then(function(e){200==e.data.code&&(t.form=e.data.data,console.log("form",t.form))})},beforeUpload:function(e,t){console.log(e),console.log(t);var a=e.raw.type.split("/")[1],i=e.size/1024/1024;return-1===["jpeg","jpg","png","bmp"].indexOf(a)?(this.$message.warning("上传图片格式错误"),t.splice(-1,1),!1):i>=400?(this.$message.warning("图片大小大于5M"),t.splice(-1,1),!1):(this.fileList=t,!0)},getVideoMsg:function(e){return new o.a(function(t){var a=document.createElement("video");a.src=URL.createObjectURL(e),a.addEventListener("loadedmetadata",function(){t({duration:a.duration,height:a.videoHeight,width:a.videoWidth})})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;if("add"==t.otype){if(0==t.fileList.length)return t.$message.error("请上传视频"),!1;var a=new FormData;a.append("file",t.fileList[0].raw),a.append("materialBrief",t.form.materialBrief),a.append("materialTitle",t.form.materialTitle),a.append("materialTotalTime",t.duration),Object(c.d)(a).then(function(e){200==e.data.code&&(t.$message({type:"success",message:"上传成功!"}),t.getList(t.currentPage,t.pageSize),t.videoEditMaster=!1,t.fileList=[])},function(e){t.$message({type:"error",message:"操作失败!"})})}else{var i=new FormData;i.append("imageId",t.form.materialId),i.append("file",""),i.append("materialBrief",t.form.materialBrief),i.append("materialTitle",t.form.materialTitle),i.append("materialTotalTime",""),Object(c.c)(i).then(function(e){200==e.data.code&&(t.$message({type:"success",message:"上传成功!"}),t.getList(t.currentPage,t.pageSize),t.videoEditMaster=!1,t.fileList=[])},function(e){t.$message({type:"error",message:"操作失败!"})})}})},deleteRow:function(e,t){var a=this;this.$confirm("确认删除？").then(function(e){Object(c.b)(t.materialId).then(function(e){200==e.data.code&&(a.$message({type:"success",message:"操作成功!"}),a.getList(a.currentPage,a.pageSize))})}).catch(function(e){})}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"video_content"},[a("div",{staticClass:"upload_video"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-upload2"},nativeOn:{click:function(t){return e.editRow()}}},[e._v("上传图片")])],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索名称"},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.screenHeight,"element-loading-text":"正在努力加载中..."}},[a("el-table-column",{attrs:{fixed:"",prop:"materialUrl",label:"图片",width:"230"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"head_pic",attrs:{src:e.row.materialUrl}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"materialTitle",label:"内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dl",[a("dt",{staticClass:"title"},[e._v(e._s(t.row.materialTitle))]),e._v(" "),a("dd",[e._v(e._s(t.row.materialBrief))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"materialCreateTime",label:"时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return e.editRow(t.$index,t.row)}}},[e._v("\n          编辑\n        ")]),e._v(" "),a("el-button",{staticStyle:{color:"#f00"},attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,t.row)}}},[e._v("\n          删除\n        ")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper","page-size":e.pageSize,total:e.totalNo},on:{"prev-click":e.getPrev,"next-click":e.getNext,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-drawer",{attrs:{title:"图片",visible:e.videoEditMaster,"before-close":e.visibleBefore,direction:"rtl",size:"50%"},on:{"update:visible":function(t){e.videoEditMaster=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"图片标题",prop:"materialTitle"}},[a("el-input",{model:{value:e.form.materialTitle,callback:function(t){e.$set(e.form,"materialTitle",t)},expression:"form.materialTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片介绍",prop:"materialBrief"}},[a("el-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:e.form.materialBrief,callback:function(t){e.$set(e.form,"materialBrief",t)},expression:"form.materialBrief"}})],1),e._v(" "),"add"==e.otype?a("el-form-item",{attrs:{label:"上传图片"}},[a("el-upload",{staticClass:"video-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","auto-upload":!1,limit:1,"file-list":e.fileList,"on-change":e.beforeUpload,accept:".bmp,.jpeg,.png,.jpg","list-type":"picture-card"}},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(d,u,!1,function(e){a("qnIZ")},"data-v-e85b0fb4",null).exports,f=a("77KB"),p={data:function(){return{screenHeight:""+document.documentElement.clientHeight-242,otype:"",//! 新增or上传   otype:add/edit
form:{},rules:{materialTitle:[{required:!0,message:"请输入文本标题",trigger:"blur"}],materialBrief:[{required:!0,message:"请输入文本简介",trigger:"change"}]},videoEditMaster:!1,searchVal:"",tableData:[],currentPage:1,pageSize:10,totalNo:0,loading:!0}},mounted:function(){var e=this;window.onresize=function(){e.screenHeight=""+document.documentElement.clientHeight-242},e.getList(e.currentPage,e.pageSize)},methods:{goSearch:function(){this.getList(1,this.pageSize)},getPrev:function(e){this.getList(e,this.pageSize)},getNext:function(e){this.getList(e,this.pageSize)},getCurrent:function(e){this.currentPage=e,this.getList(e,this.pageSize)},handleCurrentChange:function(e){this.currentPage=e,this.getList(e,this.pageSize)},getList:function(e,t){var a=this;this.currentPage=e;var i={pageNum:e,pageSize:t,title:this.searchVal};Object(f.a)(i).then(function(e){console.log(e),200==e.data.code?(a.tableData=e.data.data.list,a.totalNo=e.data.data.total,a.$emit("getTopTotal"),a.loading=!1):a.$message.error(e.msg)}).catch(function(e){console.log(e)})},editRow:function(e,t){e||t?(this.otype="edit",this.beforeEdit(t.materialId)):(this.otype="add",this.form={}),this.videoEditMaster=!0},beforeEdit:function(e){var t=this;Object(i.a)(e).then(function(e){200==e.data.code&&(t.form=e.data.data)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;if("add"==t.otype){var a={content:t.form.materialBrief,title:t.form.materialTitle};Object(f.d)(a).then(function(e){200==e.data.code&&(t.$message({type:"success",message:"保存成功!"}),t.getList(t.currentPage,t.pageSize),t.videoEditMaster=!1)},function(e){t.$message({type:"error",message:"操作失败!"})})}else{a={content:t.form.materialBrief,title:t.form.materialTitle,textId:t.form.materialId};Object(f.c)(a).then(function(e){200==e.data.code&&(t.$message({type:"success",message:"保存成功!"}),t.getList(t.currentPage,t.pageSize),t.videoEditMaster=!1)},function(e){t.$message({type:"error",message:"操作失败!"})})}})},videoRemove:function(){this.videoUrl="",this.fileList=[]},deleteRow:function(e,t){var a=this;this.$confirm("确认删除？").then(function(e){Object(f.b)(t.materialId).then(function(e){200==e.data.code&&(a.$message({type:"success",message:"操作成功!"}),a.getList(a.currentPage,a.pageSize))})}).catch(function(e){})}}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"video_content"},[i("div",{staticClass:"upload_video"},[i("el-row",[i("el-col",{attrs:{span:4}},[i("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-upload2"},nativeOn:{click:function(t){return e.editRow()}}},[e._v("上传文本")])],1),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索名称",clearable:""},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.goSearch},slot:"append"})],1)],1)],1)],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.screenHeight,"element-loading-text":"正在努力加载中..."}},[i("el-table-column",{attrs:{fixed:"",prop:"img",label:"图片",width:"230"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{staticClass:"head_pic",attrs:{src:a("NGR+")}})]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"materialTitle",label:"内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("dl",[i("dt",{staticClass:"title"},[e._v(e._s(t.row.materialTitle))]),e._v(" "),i("dd",[e._v(e._s(t.row.materialBrief))])])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"materialCreateTime",label:"时间",width:"180"}}),e._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return e.editRow(t.$index,t.row)}}},[e._v("\n          编辑\n        ")]),e._v(" "),i("el-button",{staticStyle:{color:"#f00"},attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,t.row)}}},[e._v("\n          删除\n        ")])]}}])})],1),e._v(" "),i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper","page-size":e.pageSize,total:e.totalNo},on:{"prev-click":e.getPrev,"next-click":e.getNext,"current-change":e.handleCurrentChange}}),e._v(" "),i("el-drawer",{attrs:{title:"文本",visible:e.videoEditMaster,direction:"rtl",size:"50%"},on:{"update:visible":function(t){e.videoEditMaster=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"文本标题",prop:"materialTitle"}},[i("el-input",{model:{value:e.form.materialTitle,callback:function(t){e.$set(e.form,"materialTitle",t)},expression:"form.materialTitle"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"文本简介",prop:"materialBrief"}},[i("el-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:e.form.materialBrief,callback:function(t){e.$set(e.form,"materialBrief",t)},expression:"form.materialBrief"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]};var h={components:{videoList:s,picList:m,textList:a("VU/8")(p,g,!1,function(e){a("4BjG")},"data-v-73ccfa5b",null).exports},data:function(){return{topTota:"",activeName:"video"}},computed:{videoTotal:function(){return"视频（共"+this.topTota.videoTotal+"条）"},picTotal:function(){return"图片（共"+this.topTota.imageTotal+"条）"},textTotal:function(){return"文字（共"+this.topTota.textTotal+"条）"}},mounted:function(){this.getTopTotal()},methods:{getTopTotal:function(){var e=this;Object(i.c)().then(function(t){200==t.data.code&&(e.topTota=t.data.data)})},handleTabClick:function(e,t){}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"contents"},[a("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.videoTotal,name:"video"}},["video"==e.activeName?a("video-list",{on:{getTopTotal:e.getTopTotal}}):e._e()],1),e._v(" "),a("el-tab-pane",{attrs:{label:e.picTotal,name:"pic"}},["pic"==e.activeName?a("pic-list",{on:{getTopTotal:e.getTopTotal}}):e._e()],1),e._v(" "),a("el-tab-pane",{attrs:{label:e.textTotal,name:"text"}},["text"==e.activeName?a("text-list",{on:{getTopTotal:e.getTopTotal}}):e._e()],1)],1)],1)])},staticRenderFns:[]};var b=a("VU/8")(h,v,!1,function(e){a("N7h0")},"data-v-1154b050",null);t.default=b.exports},mAMQ:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return n}),a.d(t,"b",function(){return l});var i=a("Y8t/"),r=function(e){return Object(i.a)({url:"/sqfc/material/queryImage",method:"get",params:e})},o=function(e){return Object(i.a)({url:"/sqfc/material/updateImage",method:"post",data:e})},n=function(e){return Object(i.a)({url:"/sqfc/material/uploadImage",method:"post",data:e})},l=function(e){return Object(i.a)({url:"/sqfc/material/deleteImage",method:"get",params:{imageId:e}})}},qnIZ:function(e,t){}});
//# sourceMappingURL=4.e70dc04b1f32b08e0e8a.js.map